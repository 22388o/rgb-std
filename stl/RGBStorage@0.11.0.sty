{-
  Id: stl:ZZBpExyg-zYQDRZh-1UZxjsV-VHmDa!K-ykNK3bQ-HOlVbHc#sinatra-sweet-clinic
  Name: RGBStorage
  Version: 0.11.0
  Description: RGB storage library
  Author: Dr Maxim Orlovsky <orlovsky@lnp-bp.org>
  Copyright (C) 2023-2024 LNP/BP Standards Association. All rights reserved.
  License: Apache-2.0
-}

@context
typelib RGBStorage

import RGB#diploma-montana-elastic
  use ExtensionSchema#active-eddie-empty
  use BundleId#carmen-farmer-diesel
  use AssignmentWitness#camilla-bison-chant
  use GlobalValues#pilot-boris-alice
  use MetaValue#split-package-recycle
  use InputMap#octavia-north-gram
  use GenesisSchema#iron-forbid-hamlet
  use OutputAssignmentVoidState#concept-private-garlic
  use AltLayer1Set#flute-flex-bottle
  use OwnedStateSchema#python-snake-capsule
  use AssetTags#anita-nice-deliver
  use AssignmentsBlindSealTxid#telecom-right-visible
  use VoidState#email-snow-safari
  use DataState#short-noise-postal
  use TransitionType#picture-reflex-brigade
  use Occurrences#source-olga-mirage
  use AssignVoidStateBlindSealTxPtr#profit-granite-fuji
  use MediaType#isabel-heaven-north
  use ValencyType#aloha-dublin-brush
  use PedersenCommitment#pupil-scale-jerome
  use ConcealedFungible#story-shrink-aloha
  use OutputAssignmentRevealedData#spoon-info-snow
  use AssignRevealedDataBlindSealTxid#fantasy-monica-jump
  use ExtensionType#apropos-scoop-viva
  use Schema#junior-remote-jordan
  use RevealedAttach#before-bravo-partner
  use RevealedFungible#origin-iris-insect
  use ConcealedData#ivan-tripod-young
  use MetaType#quebec-mission-quota
  use TransitionSchema#jumbo-matrix-normal
  use AssignRevealedDataBlindSealTxPtr#ritual-license-arcade
  use XChainBlindSealTxid#dynamic-life-brown
  use AttachId#factor-hair-everest
  use BlindingFactor#animal-plume-minus
  use AssignmentType#secret-penguin-limit
  use XChainTxid#liquid-river-absorb
  use XChainBlindSealTxPtr#senator-limbo-raymond
  use Opout#yoga-samba-karma
  use AssignVoidStateBlindSealTxid#senior-beyond-cement
  use SchemaId#ramirez-patron-simon
  use OpId#picnic-single-gloria
  use ContractId#uniform-welcome-papa
  use AssignmentsBlindSealTxPtr#canyon-eternal-optimal
  use XChainPubWitness#order-nominal-gloria
  use TypedAssignsBlindSealTxid#pogo-social-idea
  use FungibleState#guide-poker-coconut
  use Inputs#herman-liberal-galaxy
  use TypedAssignsBlindSealTxPtr#flipper-marble-plate
  use OutputAssignmentRevealedValue#farmer-giraffe-norway
  use Identity#smart-pioneer-nominal
  use OutputAssignmentRevealedAttach#mentor-crimson-sunset
  use AltLayer1#edison-survive-nitro
  use AssignRevealedAttachBlindSealTxid#cobalt-eddie-resume
  use AssetTag#slang-amber-club
  use Extension#emotion-quality-society
  use XChainExplicitSealTxid#acid-nepal-melon
  use Input#actor-minus-multi
  use GlobalStateType#yoga-quick-jasmine
  use Ffv#pigment-career-hippie
  use AssignRevealedValueBlindSealTxPtr#cuba-needle-salami
  use XChainSecretSeal#alex-griffin-left
  use Valencies#light-letter-comet
  use GlobalState#stadium-barcode-bazaar
  use AssignRevealedAttachBlindSealTxPtr#karma-podium-melon
  use GlobalStateSchema#connect-ricardo-lava
  use Redeemed#mile-lady-perfect
  use TransitionBundle#adios-legend-everest
  use Transition#reform-sofia-point
  use Genesis#element-gondola-buffalo
  use Metadata#member-nobody-imitate
  use FungibleType#matrix-optimal-sinatra
  use ConcealedAttach#meter-arizona-albino
  use RevealedData#olivia-copper-stamp
  use AssignRevealedValueBlindSealTxid#photo-jump-silicon

import StrictTypes#century-comrade-chess
  use VariantName#theory-austin-before
  use FieldName#present-flute-herman
  use Primitive#deliver-arrow-boxer
  use TySemId#popcorn-super-young
  use FieldSemId#spiral-road-marco
  use TypeName#edgar-carol-mystery
  use UnnamedFieldsSemId#freedom-degree-gregory
  use SemId#logic-absorb-hilton
  use Variant#humor-regard-promise
  use Sizing#courage-alien-salon
  use NamedFieldsSemId#solar-salad-smoke
  use EnumVariants#dispute-natasha-vega
  use VariantInfoSemId#museum-edward-mirror
  use UnionVariantsSemId#santana-address-pepper
  use TypeSystem#adrian-boris-sponsor

import RGBState#icon-passage-bonanza
  use WitnessPos#snow-local-tonight
  use GlobalOrd#natural-lunar-arizona
  use WitnessAnchor#scoop-scoop-cadet
  use WitnessOrd#chief-digital-vitamin
  use ContractHistory#amazon-plaster-harmony

import AluVM#congo-archive-folio
  use Lib#gate-biology-optimal
  use LibSite#ultra-grace-message
  use IsaName#taboo-olympic-cloud
  use LibId#germany-culture-olivia
  use IsaSeg#size-shake-olga
  use LibSeg#lemon-philips-horse

import BPCore#garbo-radius-peru
  use TapretNodePartner#roger-member-educate
  use ExplicitSealTxid#nova-roger-campus
  use TapretProof#marco-border-sample
  use TapretPathProof#kiwi-mirror-paris
  use AnchorMerkleBlockTapretProof#poem-serpent-broken
  use Method#bali-boris-plasma
  use TapretRightBranch#miracle-patriot-touch
  use BlindSealTxPtr#fortune-iron-salmon
  use OpretProof#good-village-flex
  use AnchorMerkleBlockOpretProof#gentle-gate-page
  use SecretSeal#dollar-iris-wizard
  use BlindSealTxid#media-judge-anita
  use TxPtr#italian-july-eddie

import RGBStd#clinic-couple-ibiza
  use ContentRef#polo-ramirez-parker
  use SigBlob#insect-cello-avalon
  use PubWitness#novel-camilla-tokyo
  use AnnotationName#domino-waiter-orlando
  use TransitionIface#axiom-parker-pyramid
  use NamedFieldTransitionType#express-brush-desire
  use ExtensionIface#model-ramirez-mentor
  use Iface#violin-student-system
  use IfaceId#nova-cola-carbon
  use ValencyIface#buzzer-holiday-fiber
  use Annotations#spend-linda-romeo
  use AssignIface#fractal-baker-outside
  use VerNo#textile-next-stretch
  use NamedFieldValencyType#invest-apollo-inca
  use ImplId#seminar-data-table
  use SupplSub#canoe-denmark-short
  use SealWitness#bicycle-polite-brother
  use Supplement#caviar-zebra-precise
  use SchemaIfaces#europe-nina-gopher
  use SupplId#pilot-claudia-minute
  use NamedFieldExtensionType#tuna-archer-melon
  use AnchorSet#shadow-dominic-pencil
  use NamedFieldGlobalStateType#museum-ohio-arizona
  use GenesisIface#rocket-paradox-press
  use IfaceImpl#permit-learn-samba
  use ContentSigs#oval-sister-triton
  use SupplItem#jargon-orchid-forget
  use Modifier#saturn-escort-jordan
  use NamedFieldAssignmentType#origin-caramel-flipper
  use TrustLevel#cobra-script-albino
  use NamedFieldMetaType#prefix-carmen-artist
  use NamedVariantu8#star-pilgrim-pilgrim
  use GlobalIface#concert-combat-charm
  use SupplMap#sailor-observe-bundle
  use OwnedIface#delphi-athlete-fresh
  use ContentId#scarlet-portal-office

import Std#ralph-blue-lucky
  use AlphaCaps#picnic-soprano-aurora
  use AsciiPrintable#ultra-sunset-format
  use Bool#oxygen-complex-duet
  use U5#orbit-graph-sonic
  use AlphaNumDash#sponsor-snake-nice
  use AlphaCapsNum#aladdin-zebra-marble
  use AlphaNumLodash#percent-bingo-caesar
  use AlphaCapsLodash#duet-hammer-labor
  use AlphaSmallLodash#pioneer-eagle-spell

import CommitVerify#tennis-peace-olympic
  use ProtocolId#shadow-eclipse-program
  use Message#druid-blitz-rover
  use MerkleHash#horse-popcorn-bundle
  use MerkleBlock#pegasus-delta-eddie
  use ReservedBytes1#origin-roger-relax
  use ReservedBytes2#florida-libra-circus
  use TreeNode#kansas-scarlet-ricardo
  use ReservedBytes4#young-goblin-academy
  use ReservedBytes8#rudolf-tape-adrian

import Bitcoin#signal-color-cipher
  use SeqNo#copper-verbal-ingrid
  use TxIn#slang-cherry-gizmo
  use Vout#brush-gloria-heroic
  use ScriptBytes#equator-cockpit-gong
  use TapNodeHash#paprika-amanda-hunter
  use LockTime#lobster-liberal-jump
  use SigScript#neptune-spiral-sample
  use LeafScript#bison-doctor-oscar
  use TxOut#aspect-eddie-message
  use Sats#metro-picasso-roger
  use Witness#engine-daniel-magnum
  use Txid#shallow-light-reverse
  use TxVer#nepal-symbol-uniform
  use InternalPk#habitat-paprika-oliver
  use LeafVer#benefit-carbon-africa
  use ScriptPubkey#second-lobster-philips
  use ByteStr#royal-anatomy-june
  use Tx#radar-salon-page
  use Outpoint#logo-alamo-madam
  use XOnlyPk#clever-swim-carpet


@mnemonic(carol-salute-aroma)
data ContractIndex     : publicOpouts {RGB.Opout ^ ..0xffffff}, outpointOpouts {RGB.XChainExplicitSealTxid -> ^ ..0xffffff {RGB.Opout ^ ..0xffffff}}

@mnemonic(flower-unicorn-bazaar)
data MemIndex          : opBundleIndex {RGB.OpId -> ^ ..0xffffff RGB.BundleId}
                       , bundleContractIndex {RGB.BundleId -> ^ ..0xffffff RGB.ContractId}
                       , bundleWitnessIndex {RGB.BundleId -> ^ ..0xffffff RGB.XChainTxid}
                       , contractIndex {RGB.ContractId -> ^ ..0xff ContractIndex}
                       , terminalIndex {RGB.XChainSecretSeal -> ^ ..0xffffff RGB.Opout}

@mnemonic(cartoon-decide-shadow)
data MemStash          : schemata {RGB.SchemaId -> ^ ..0xff RGBStd.SchemaIfaces}
                       , ifaces {RGBStd.IfaceId -> ^ ..0xff RGBStd.Iface}
                       , geneses {RGB.ContractId -> ^ ..0xff RGB.Genesis}
                       , suppl {RGBStd.ContentRef -> ^ ..0xff {RGBStd.Supplement ^ ..0xff}}
                       , bundles {RGB.BundleId -> ^ ..0xffffffff RGB.TransitionBundle}
                       , extensions {RGB.OpId -> ^ ..0xffffffff RGB.Extension}
                       , witnesses {RGB.XChainTxid -> ^ ..0xffffffff RGBStd.SealWitness}
                       , attachments {RGB.AttachId -> [Byte ^ ..0xffffff]}
                       , secretSeals {RGB.XChainBlindSealTxPtr ^ ..0xffffff}
                       , typeSystem StrictTypes.TypeSystem
                       , identities {RGB.Identity -> RGBStd.TrustLevel}
                       , libs {AluVM.LibId -> AluVM.Lib}
                       , sigs {RGBStd.ContentId -> RGBStd.ContentSigs}

@mnemonic(visitor-italian-escort)
data MemState          : history {RGB.ContractId -> ^ ..0xff RGBState.ContractHistory}


