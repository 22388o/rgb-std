{-
  Id: HjK8eSCT2mMZWQmCS5BBWgjaq8BQp5og2yP6EXVnWqFH#alibi-gemini-brenda
  Name: RGBStd
  Version: 0.11.0
  Description: RGB standard library
  Author: Dr Maxim Orlovsky <orlovsky@lnp-bp.org>
  Copyright (C) 2023-2024-2024 LNP/BP Standards Association. All rights reserved.
  License: Apache-2.0
-}

@context
typelib RGBStd

import BPCore#8UmJsi3csjCEFCEVXvjLeAgvmqxY52iY5EMfTvbyzWx2
  use TapretNodePartner#iceberg-poker-active
  use TapretProof#forum-paint-tunnel
  use TapretPathProof#stage-element-update
  use Method#trilogy-tahiti-valid
  use TapretRightBranch#basket-prelude-bridge
  use BlindSealTxPtr#austria-icon-waiter
  use OpretProof#segment-ambient-totem
  use AnchorMerkleProofTapretProof#everest-laura-modem
  use SecretSeal#santana-domingo-needle
  use AnchorMerkleProofOpretProof#cable-final-podium
  use BlindSealTxid#kimono-golf-price
  use TxPtr#strange-source-father

import StrictTypes#ACBoDKVqDSuPrZLs2W2bLVj2TnpThzUMcJJrC3GhsQ79
  use VariantInfoSemId#garlic-weekend-nirvana
  use UnionVariantsSemId#soviet-yoyo-nikita
  use VariantName#fiesta-center-yoga
  use Step#isabel-point-moment
  use Primitive#hobby-cable-puzzle
  use EnumVariants#fast-content-copy
  use Path#secret-romeo-mustang
  use TySemId#congo-satire-gossip
  use UnnamedFieldsSemId#hippie-world-sandra
  use SemId#cargo-plasma-catalog
  use Sizing#canoe-gordon-amazon
  use TypeName#gray-bonanza-kilo
  use FieldSemId#beast-traffic-enrico
  use TypeSystem#carmen-nova-quasi
  use Variant#colony-polo-senator
  use KeyStep#frozen-margo-cannon
  use NamedFieldsSemId#clever-prize-sinatra
  use FieldName#toyota-plasma-austria

import AluVM#APYERRUMyWqLadwTv8tEFifHMPGpL3xGFSBxwaKYpmcV
  use IsaSeg#sharp-user-fantasy
  use Lib#wedding-gate-truck
  use IsaName#spirit-example-carrot
  use LibSite#mission-papa-mercy
  use LibId#rebel-factor-rodeo
  use LibSeg#courage-mexico-cinema

import Std#EcCNgrgLaygt3tCZNu2ZVEzMzSAZYEUeTNAVi5E81YWi
  use AlphaCaps#digital-mirage-dream
  use AsciiPrintable#prize-solar-driver
  use Bool#laser-madam-maxwell
  use AlphaCapsLodash#winter-vampire-energy
  use AlphaSmallLodash#plastic-snake-modular

import RGB#FdtTxVxBBVXJaayVZoM1dhSHqszVHMenivcPd2v4PP1H
  use ExtensionSchema#ship-karma-david
  use BundleId#desert-divide-visible
  use GlobalValues#compact-denver-vitamin
  use Identity#stock-teacher-falcon
  use MetaValue#voodoo-budget-weekend
  use InputMap#ravioli-rudolf-inch
  use GenesisSchema#exhibit-decade-orca
  use AltLayer1Set#manual-cycle-circus
  use OwnedStateSchema#pacific-truck-sharon
  use AssetTags#arctic-oasis-cable
  use AssignmentsBlindSealTxid#morris-enrico-miller
  use VoidState#nectar-ceramic-driver
  use DataState#diana-archive-liquid
  use TransitionType#puma-joshua-evita
  use Occurrences#unicorn-empire-mama
  use AssignVoidStateBlindSealTxPtr#russian-demand-kimono
  use MediaType#light-nelson-brain
  use ValencyType#palma-exit-pupil
  use PedersenCommitment#nepal-delta-earth
  use ConcealedFungible#open-conan-barcode
  use AssignRevealedDataBlindSealTxid#master-rhino-rapid
  use ExtensionType#mission-salsa-parole
  use RevealedAttach#antenna-balloon-manager
  use RevealedFungible#light-sonar-civil
  use ConcealedData#mirage-invite-newton
  use MetaType#index-shadow-pattern
  use TransitionSchema#left-condor-famous
  use AssignRevealedDataBlindSealTxPtr#trinity-trilogy-atomic
  use XChainBlindSealTxid#biology-domain-domain
  use AttachId#delta-member-agenda
  use BlindingFactor#agenda-ivory-blast
  use AssignmentType#hunter-hello-retro
  use Schema#stop-stand-harmony
  use XChainBlindSealTxPtr#prime-loyal-escort
  use Opout#india-joshua-adam
  use AssignVoidStateBlindSealTxid#noise-veteran-gloria
  use SchemaId#garcia-smoke-ozone
  use OpId#slow-samuel-ceramic
  use ContractId#alarm-danube-vampire
  use AssignmentsBlindSealTxPtr#meteor-express-liberal
  use TypedAssignsBlindSealTxid#stuart-chapter-dance
  use FungibleState#natasha-profit-winter
  use Inputs#impact-wedding-example
  use XChainPubWitness#animal-pretend-exile
  use TypedAssignsBlindSealTxPtr#robert-event-mother
  use AltLayer1#banana-mouse-plaster
  use AssignRevealedAttachBlindSealTxid#subway-amanda-kevin
  use AssetTag#buzzer-pattern-craft
  use Extension#pigment-color-budget
  use Input#export-content-vitamin
  use GlobalStateType#seminar-major-tape
  use Ffv#silence-motel-toronto
  use AssignRevealedValueBlindSealTxPtr#chamber-balsa-forbid
  use XChainSecretSeal#palace-random-taxi
  use Valencies#lady-paper-anvil
  use GlobalState#social-swim-amanda
  use AssignRevealedAttachBlindSealTxPtr#eric-budget-orca
  use GlobalStateSchema#warning-magnet-blonde
  use Redeemed#money-campus-annual
  use TransitionBundle#yoga-kansas-albert
  use Transition#phoenix-cinema-mega
  use XChainTerminalSeal#bread-tarzan-touch
  use Genesis#modem-maxwell-santana
  use Metadata#chef-ritual-garcia
  use FungibleType#profit-bazooka-present
  use ConcealedAttach#pizza-natural-cyclone
  use RevealedData#switch-enigma-ruby
  use AssignRevealedValueBlindSealTxid#colony-miguel-olga

import CommitVerify#GCWLX5TjFmMDCJr5cxWtwoSajBWDWbkQVSuTNbrtD1tg
  use MerkleHash#culture-metro-modular
  use MerkleProof#labor-hilton-magenta
  use ReservedBytes1#joker-lemon-mental
  use ReservedBytes2#pocket-habitat-soviet
  use ReservedBytes4#claudia-drink-digital
  use ReservedBytes8#helena-button-combat

import Bitcoin#HX2UBak8vPsTokug1DGMDvTpzns3xUdwZ7QJdyt4qBA9
  use SeqNo#rhino-time-rodent
  use TxIn#pagoda-david-reform
  use Vout#chrome-robin-gallop
  use ScriptBytes#maestro-source-jackson
  use TapNodeHash#crash-culture-jamaica
  use LockTime#tokyo-inch-program
  use SigScript#tiger-paprika-juliet
  use LeafScript#brenda-round-micro
  use TxOut#hostel-source-marion
  use Sats#pyramid-spray-star
  use Witness#quiz-junior-farmer
  use Txid#cowboy-diego-betty
  use TxVer#english-natasha-virus
  use InternalPk#meter-nerve-chicken
  use LeafVer#tunnel-lagoon-cowboy
  use ScriptPubkey#denmark-human-degree
  use ByteStr#kinetic-avenue-escort
  use Tx#deluxe-bernard-genetic
  use Outpoint#dinner-yoga-danube
  use XOnlyPk#evident-finance-promo


@mnemonic(ramirez-benny-brave)
data AnchoredBundles   : tapret#1 (BPCore.AnchorMerkleProofTapretProof, RGB.TransitionBundle)
                       | opret (BPCore.AnchorMerkleProofOpretProof, RGB.TransitionBundle)
                       | double (tapretAnchor BPCore.AnchorMerkleProofTapretProof
                       , tapretBundle RGB.TransitionBundle
                       , opretAnchor BPCore.AnchorMerkleProofOpretProof
                       , opretBundle RGB.TransitionBundle)

@mnemonic(galileo-stuart-night)
data AssignIface       : ownedState OwnedIface
                       , public Std.Bool
                       , required Std.Bool
                       , multiple Std.Bool

@mnemonic(tommy-picasso-spell)
data BundledWitness    : pubWitness RGB.XChainPubWitness, anchoredBundles AnchoredBundles

@mnemonic(ninja-reward-wizard)
data Consignmentfalse  : version ContainerVer
                       , transfer Std.Bool
                       , terminals {RGB.BundleId -> Terminal}
                       , genesis RGB.Genesis
                       , extensions {RGB.Extension ^ ..0xffffffff}
                       , bundles {BundledWitness ^ ..0xffffffff}
                       , schema RGB.Schema
                       , ifaces {Iface -> ^ ..0xff IfaceImpl}
                       , supplements {ContractSuppl ^ ..0xff}
                       , types StrictTypes.TypeSystem
                       , scripts {AluVM.Lib ^ ..0x400}
                       , attachments {RGB.AttachId -> [Byte ^ ..0xffffff]}
                       , signatures {ContentId -> ^ ..0xff ContentSigs}

@mnemonic(cairo-poem-script)
data Consignmenttrue   : version ContainerVer
                       , transfer Std.Bool
                       , terminals {RGB.BundleId -> Terminal}
                       , genesis RGB.Genesis
                       , extensions {RGB.Extension ^ ..0xffffffff}
                       , bundles {BundledWitness ^ ..0xffffffff}
                       , schema RGB.Schema
                       , ifaces {Iface -> ^ ..0xff IfaceImpl}
                       , supplements {ContractSuppl ^ ..0xff}
                       , types StrictTypes.TypeSystem
                       , scripts {AluVM.Lib ^ ..0x400}
                       , attachments {RGB.AttachId -> [Byte ^ ..0xffffff]}
                       , signatures {ContentId -> ^ ..0xff ContentSigs}

@mnemonic(felix-burger-matrix)
data ContainerVer      : v2#2


@mnemonic(jargon-brown-family)
data ContentId         : schema RGB.SchemaId
                       | genesis RGB.ContractId
                       | iface IfaceId
                       | ifaceImpl ImplId
                       | suppl SupplId

@mnemonic(adios-import-collect)
data ContentSigs       : {RGB.Identity -> ^ 1..0xa SigBlob}

@mnemonic(slang-mars-belgium)
data ContractSuppl     : contractId RGB.ContractId
                       , ticker TickerSuppl
                       , mediaKit [Unicode ^ ..0xff]
                       , globalState {RGB.AssignmentType -> ^ ..0xff OwnedStateSuppl}
                       , ownedState {RGB.AssignmentType -> ^ ..0xff OwnedStateSuppl}
                       , extensions {U16 -> ^ ..0xff [Byte]}

@mnemonic(austria-rudolf-command)
data ExtensionIface    : modifier Modifier
                       , optional Std.Bool
                       , metadata {StrictTypes.FieldName ^ ..0xff}
                       , globals {StrictTypes.FieldName -> ^ ..0xff RGB.Occurrences}
                       , assignments {StrictTypes.FieldName -> ^ ..0xff RGB.Occurrences}
                       , redeems {StrictTypes.FieldName ^ ..0xff}
                       , valencies {StrictTypes.FieldName ^ ..0xff}
                       , errors {StrictTypes.VariantName ^ ..0xff}
                       , defaultAssignment StrictTypes.FieldName?

@mnemonic(ballad-bicycle-iris)
data GenesisIface      : modifier Modifier
                       , metadata {StrictTypes.FieldName ^ ..0xff}
                       , globals {StrictTypes.FieldName -> ^ ..0xff RGB.Occurrences}
                       , assignments {StrictTypes.FieldName -> ^ ..0xff RGB.Occurrences}
                       , valencies {StrictTypes.FieldName ^ ..0xff}
                       , errors {StrictTypes.VariantName ^ ..0xff}

@mnemonic(garbo-justice-atomic)
data GlobalIface       : semId StrictTypes.SemId?
                       , required Std.Bool
                       , multiple Std.Bool

@mnemonic(magenta-juliet-greek)
data Iface             : version VerNo
                       , name StrictTypes.TypeName
                       , inherits [IfaceId ^ ..0xff]
                       , timestamp I64
                       , metadata {StrictTypes.FieldName -> ^ ..0xff StrictTypes.SemId}
                       , globalState {StrictTypes.FieldName -> ^ ..0xff GlobalIface}
                       , assignments {StrictTypes.FieldName -> ^ ..0xff AssignIface}
                       , valencies {StrictTypes.FieldName -> ^ ..0xff ValencyIface}
                       , genesis GenesisIface
                       , transitions {StrictTypes.FieldName -> ^ ..0xff TransitionIface}
                       , extensions {StrictTypes.FieldName -> ^ ..0xff ExtensionIface}
                       , defaultOperation StrictTypes.FieldName?
                       , errors {StrictTypes.VariantName -> ^ ..0xff [Unicode ^ ..0xff]}
                       , developer RGB.Identity

@mnemonic(vendor-polite-gong)
data IfaceId           : [Byte ^ 32]

@mnemonic(snow-habitat-collect)
data IfaceImpl         : version VerNo
                       , schemaId RGB.SchemaId
                       , ifaceId IfaceId
                       , timestamp I64
                       , metadata {NamedFieldMetaType ^ ..0xff}
                       , globalState {NamedFieldGlobalStateType ^ ..0xff}
                       , assignments {NamedFieldAssignmentType ^ ..0xff}
                       , valencies {NamedFieldValencyType ^ ..0xff}
                       , transitions {NamedFieldTransitionType ^ ..0xff}
                       , extensions {NamedFieldExtensionType ^ ..0xff}
                       , errors {NamedVariantu8 ^ ..0xff}
                       , developer RGB.Identity

@mnemonic(monday-igloo-jupiter)
data ImplId            : [Byte ^ 32]

@mnemonic(domino-pulse-oxford)
data Kit               : version ContainerVer
                       , ifaces {Iface ^ ..0xff}
                       , schemata {RGB.Schema ^ ..0xff}
                       , iimpls {IfaceImpl ^ ..0xff}
                       , supplements {ContractSuppl ^ ..0xff}
                       , types StrictTypes.TypeSystem
                       , scripts {AluVM.Lib}
                       , signatures {ContentId -> ^ ..0xff ContentSigs}

@mnemonic(recycle-field-hope)
data Modifier          : abstract | override | final#255


@mnemonic(claudia-roof-village)
data NamedFieldAssignmentType : id RGB.AssignmentType
                       , name StrictTypes.FieldName
                       , reserved CommitVerify.ReservedBytes4

@mnemonic(exact-ruby-soda)
data NamedFieldExtensionType : id RGB.ExtensionType
                       , name StrictTypes.FieldName
                       , reserved CommitVerify.ReservedBytes4

@mnemonic(owner-fiesta-boston)
data NamedFieldGlobalStateType : id RGB.GlobalStateType
                       , name StrictTypes.FieldName
                       , reserved CommitVerify.ReservedBytes4

@mnemonic(mambo-bermuda-farmer)
data NamedFieldMetaType : id RGB.MetaType
                       , name StrictTypes.FieldName
                       , reserved CommitVerify.ReservedBytes4

@mnemonic(absent-stick-nova)
data NamedFieldTransitionType : id RGB.TransitionType
                       , name StrictTypes.FieldName
                       , reserved CommitVerify.ReservedBytes4

@mnemonic(candle-mirror-alcohol)
data NamedFieldValencyType : id RGB.ValencyType
                       , name StrictTypes.FieldName
                       , reserved CommitVerify.ReservedBytes4

@mnemonic(pedro-george-connect)
data NamedVariantu8    : id U8
                       , name StrictTypes.VariantName
                       , reserved CommitVerify.ReservedBytes4

@mnemonic(contact-remote-popular)
data OwnedIface        : any ()
                       | rights ()
                       | amount ()
                       | anyData ()
                       | anyAttach ()
                       | data StrictTypes.SemId

@mnemonic(office-hexagon-exile)
data OwnedStateSuppl   : meaning [Unicode ^ ..0xff], velocity VelocityHint

@mnemonic(pixel-bravo-tactic)
data PubWitness        : txid Bitcoin.Txid
                       , tx Bitcoin.Tx?
                       , spv CommitVerify.ReservedBytes1

@mnemonic(chris-update-father)
data SigBlob           : [Byte ^ 1..0x1000]

@mnemonic(partner-austin-dinner)
data SupplId           : [Byte ^ 32]

@mnemonic(permit-crimson-parole)
data Terminal          : seals {RGB.XChainTerminalSeal}

@mnemonic(battery-cecilia-politic)
data TerminalSeal      : VoutSeal?

@mnemonic(mailbox-tempo-billy)
data TickerSuppl       : absent ()
                       | global (RGB.GlobalStateType, StrictTypes.Path)
                       | owned (RGB.AssignmentType, StrictTypes.Path)

@mnemonic(radius-weather-analyze)
data TransitionIface   : modifier Modifier
                       , optional Std.Bool
                       , metadata {StrictTypes.FieldName ^ ..0xff}
                       , globals {StrictTypes.FieldName -> ^ ..0xff RGB.Occurrences}
                       , inputs {StrictTypes.FieldName -> ^ ..0xff RGB.Occurrences}
                       , assignments {StrictTypes.FieldName -> ^ ..0xff RGB.Occurrences}
                       , valencies {StrictTypes.FieldName ^ ..0xff}
                       , errors {StrictTypes.VariantName ^ ..0xff}
                       , defaultAssignment StrictTypes.FieldName?

@mnemonic(input-tripod-oscar)
data ValencyIface      : required Std.Bool

@mnemonic(textile-politic-harris)
data VelocityHint      : unspecified | seldom#15 | episodic#31 | regular#63
                       | frequent#127 | highFrequency#255


@mnemonic(sabine-harlem-absorb)
data VerNo             : v0 | v1


@mnemonic(concert-venice-jacket)
data VoutSeal          : method BPCore.Method
                       , vout Bitcoin.Vout
                       , blinding U64


